datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

generator client {
    provider   = "prisma-client-js"
    engineType = "binary"
}

model User {
    id                        Int               @id @default(autoincrement())
    email                     String            @unique
    name                      String
    password                  String
    surname                   String?
    currentHashedRefreshToken String?
    MediaPost                 MediaPost[]
    blockedPosts              BlockedUserPost[]
}

model MediaPost {
    id           Int               @id @default(autoincrement())
    title        String
    contentUrl   String
    description  String
    creator      User              @relation(fields: [creatorId], references: [id])
    creatorId    Int
    isBlocked    Boolean           @default(false)
    blockedUsers BlockedUserPost[]

    @@map("mediaPost")
}

model BlockedUserPost {
    id          Int       @id @default(autoincrement())
    blockedUser User      @relation(fields: [blockedId], references: [id])
    blockedId   Int
    MediaPost   MediaPost @relation(fields: [mediaPostId], references: [id])
    mediaPostId Int

    @@map("blockedUserPost")
}
